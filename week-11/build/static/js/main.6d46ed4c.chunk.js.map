{"version":3,"sources":["pages/Detail/style.module.css","pages/Shopcar/style.module.css","components/Nav/style.module.css","pages/Login/style.module.css","components/ProductItem/style.module.css","pages/Mine/style.module.css","components/ShopCarItem/style.module.css","components/Toast/style.module.css","pages/Product/style.module.css","components/Checkbox/style.module.css","services/request.ts","services/api.ts","components/ProductItem/index.tsx","components/Nav/index.tsx","pages/Product/index.tsx","components/Toast/index.tsx","pages/Detail/index.tsx","pages/Mine/index.tsx","components/Checkbox/index.tsx","components/ShopCarItem/index.tsx","pages/Shopcar/index.tsx","pages/Login/index.tsx","pages/App/index.tsx","index.tsx"],"names":["module","exports","request","method","url","data","a","option","headers","body","JSON","stringify","fetch","res","json","post","listCart","removeCart","ids","login","username","password","ProductItem","props","to","sku","id","className","style","src","cover","alt","ProductItemBottom","ProductItemTitle","title","ProductItemPrice","price","Nav","nav","item","exact","activeClassName","active","Product","React","rows","setRows","result","stat","getData","back","wrapper","container","map","Toast","text","el","document","createElement","appendChild","ReactDOM","wrap","box","setTimeout","removeChild","Detail","history","useHistory","params","useParams","useState","setData","useEffect","add","skuId","push","page","swiper","swiper_back","onClick","goBack","swiperWrap","pagination","bulletActiveClass","activePage","gallery","index","swiperImg","product","product_price","product_stock","stock","product_title","product_detail","detail","footer","link","addcart","SwiperCore","use","Pagination","Login","user","setUser","logout","userinfo","avater","avatar","nickname","outputButton","Checkbox","name","checkbox","value","checked","console","log","onChange","ShopCarItem","caritem","img","Shopcar","carlist","setCarlist","isCheck","setIsCheck","isAllCheck","setIsAllCheck","api","doRemove","carlist2","v","w","doChange","isCheckeds","isChecked","length","empty","control","isChecks","isPick","i","delete","disabled","isDisabled","setUsername","setPassword","message","tao","type","placeholder","inputText","event","target","button","App","locale","zhCN","path","component","Mine","from","getElementById"],"mappings":"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","file":"static/js/main.6d46ed4c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"style_page__1ZreT\",\"swiper\":\"style_swiper__WI65f\",\"swiper_back\":\"style_swiper_back__1e8y6\",\"swiperWrap\":\"style_swiperWrap__1cjQA\",\"activePage\":\"style_activePage__1t2n-\",\"swiperImg\":\"style_swiperImg__1GpNL\",\"product\":\"style_product__41yUI\",\"product_price\":\"style_product_price__ZiaEK\",\"product_stock\":\"style_product_stock__3iVDg\",\"product_title\":\"style_product_title__1uLoQ\",\"product_detail\":\"style_product_detail__2TzHA\",\"footer\":\"style_footer__34ibU\",\"link\":\"style_link__VYr9-\",\"addcart\":\"style_addcart__ha1X_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"style_back__2JmlI\",\"wrapper\":\"style_wrapper__3Anhw\",\"carlist\":\"style_carlist__7siFM\",\"control\":\"style_control__Gu-qX\",\"delete\":\"style_delete__A8fQw\",\"empty\":\"style_empty__2q5US\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"style_nav__2mkhv\",\"item\":\"style_item__byyVI\",\"active\":\"style_active__O_ZgX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"style_wrap__u_7Gc\",\"tao\":\"style_tao__8RZ_3\",\"button\":\"style_button__2aoxm\",\"inputText\":\"style_inputText__15Za1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProductItem\":\"style_ProductItem__AjnGa\",\"ProductItemTitle\":\"style_ProductItemTitle__piKYj\",\"ProductItemPrice\":\"style_ProductItemPrice__2H6Gm\",\"ProductItemBottom\":\"style_ProductItemBottom__3EtPV\",\"cover\":\"style_cover__V9u-Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"style_back__EKDo8\",\"wrapper\":\"style_wrapper__gP7Ni\",\"avater\":\"style_avater__3Y8LC\",\"text\":\"style_text__3Ndlh\",\"outputButton\":\"style_outputButton__2v6nL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caritem\":\"style_caritem__2NQLH\",\"img\":\"style_img__2POA_\",\"text\":\"style_text__1JWCb\",\"title\":\"style_title__2XPZs\",\"price\":\"style_price__24fYf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"style_wrap__P5Ml-\",\"box\":\"style_box__1HrCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"style_back__32-9u\",\"wrapper\":\"style_wrapper__2opOe\",\"container\":\"style_container__3O0Qq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"style_checkbox__Pa8pO\",\"checked\":\"style_checked__3czJj\"};","async function request<T>(method: string, url: string, data?: any) {\r\n  let option: RequestInit = {\r\n    method\r\n  }\r\n  if (data) {\r\n    option.headers = {\r\n      'Content-Type': 'application/json; charset=utf-8'\r\n    }\r\n    option.body = JSON.stringify(data)\r\n  }\r\n  let res = await fetch(url, option)\r\n  let json: T = await res.json()\r\n  return json\r\n}\r\n\r\nexport function get<T>(url: string) {\r\n  return request<T>('GET', url)\r\n}\r\n\r\nexport function post<T>(url: string, data?: any) {\r\n  return request<T>('POST', url, data)\r\n}","import * as request from './request'\r\nimport { ISku, IUser } from '../types'\r\n\r\ninterface BaseRes {\r\n  stat: string\r\n  message?: string\r\n}\r\n\r\ninterface LoginRes extends BaseRes {\r\n  token: string\r\n  user: IUser\r\n}\r\n\r\ninterface SkuList extends BaseRes {\r\n  rows: ISku[]\r\n}\r\n\r\ninterface SkuInfo extends BaseRes {\r\n  data: ISku\r\n}\r\n\r\ninterface UserInfo extends BaseRes {\r\n  data: IUser\r\n}\r\n\r\n/**\r\n * 商品列表\r\n * @returns \r\n */\r\nexport function listSku() {\r\n  return request.post<SkuList>('/api/sku/list')\r\n}\r\n\r\n/**\r\n * 获取商品详情\r\n * @param id 商品ID\r\n * @returns \r\n */\r\nexport function getSku(id: string) {\r\n  return request.post<SkuInfo>('/api/sku/info', { id })\r\n}\r\n\r\n/**\r\n * 购物车列表\r\n * @returns \r\n */\r\nexport function listCart() {\r\n  return request.post<SkuList>('/api/cart/list')\r\n}\r\n\r\n/**\r\n * 添加商品到购物车\r\n * @param skuId 商品ID\r\n * @returns \r\n */\r\nexport function addCart(skuId: string) {\r\n  return request.post<BaseRes>('/api/cart/add', { skuId })\r\n}\r\n\r\n/**\r\n * 删除购物车中的商品\r\n * @param ids 商品ID数组\r\n * @returns \r\n */\r\nexport function removeCart(ids: string[]) {\r\n  return request.post<BaseRes>('/api/cart/remove', { ids })\r\n}\r\n\r\n/**\r\n * 用户登录\r\n * @param username 用户名\r\n * @param password 密码\r\n * @returns \r\n */\r\nexport function login(username: string, password: string) {\r\n  return request.post<LoginRes>('/api/user/login', { username, password })\r\n}\r\n\r\n/**\r\n * 注销登录\r\n * @returns \r\n */\r\nexport function logout() {\r\n  return request.post<BaseRes>('/api/user/logout')\r\n}\r\n\r\n/**\r\n * 获取当前登录用户信息\r\n * @returns \r\n */\r\nexport function userInfo() {\r\n  return request.post<UserInfo>('/api/user/info')\r\n}","import style from './style.module.css'\r\nimport { Link} from \"react-router-dom\"\r\nimport { ISku } from \"../../types\"\r\n\r\ninterface Props {\r\n  sku: ISku\r\n}\r\nexport default function ProductItem(props:Props){\r\n  return(\r\n    <Link to={\"/detail/\" + props.sku.id} className={style.ProductItem}>\r\n        <img src={props.sku.cover} className={style.cover} alt=\"\"/>\r\n\r\n        <div className={style.ProductItemBottom}>\r\n          <div className={style.ProductItemTitle}>{props.sku.title}</div>\r\n          <div className={style.ProductItemPrice}>￥{props.sku.price}</div>\r\n        </div>\r\n      </Link>\r\n  )\r\n}\r\n","import { NavLink} from 'react-router-dom'\r\nimport style from './style.module.css'\r\n\r\nexport default function Nav() {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <NavLink to=\"/product\" className={style.item} exact activeClassName={style.active}>\r\n        <i className=\"iconfont icon-goods\"></i>\r\n        <span>商品</span>\r\n      </NavLink>\r\n      <NavLink to=\"/shopcar\" className={style.item} exact activeClassName={style.active}>\r\n        <i className=\"iconfont icon-cart\"></i>\r\n        <span>购物车</span>\r\n      </NavLink>\r\n      <NavLink to=\"/mine\" className={style.item} exact activeClassName={style.active}>\r\n        <i className=\"iconfont icon-people\"></i>\r\n        <span>个人</span>\r\n      </NavLink>\r\n    </nav>\r\n  )\r\n}\r\n\r\n","import * as React from 'react'\r\nimport { ISku }  from '../../types'\r\nimport * as api from '../../services/api'\r\nimport ProductItem from '../../components/ProductItem'\r\nimport style from './style.module.css'\r\nimport Nav from '../../components/Nav'\r\n\r\nexport default function Product(){\r\n  /** \r\n  *获取数据函数\r\n  *1.调用api获取商品详细信息\r\n  *2.判断result的stat属性判断是否成功获得数据\r\n  *     OK，那么说明成功获取数据\r\n  *3.更新状态\r\n  */\r\n  const [rows, setRows] = React.useState<ISku[]>([])\r\n\r\n  React.useEffect(() => {\r\n    const getData = async () => {\r\n      let result = await api.listSku()\r\n      if (result.stat === 'OK') {\r\n        setRows(result.rows)\r\n      }\r\n    }\r\n    getData()\r\n  }, [])\r\n    return (\r\n      <div className={style.back}>\r\n        <div className={style.wrapper}>\r\n          <main className={style.container}>\r\n          {rows.map(item => (\r\n            <ProductItem sku={item} key={item.id} />\r\n          ))}\r\n          </main>\r\n        </div>\r\n        <Nav /> \r\n      </div>\r\n    )\r\n}\r\n\r\n\r\n","import * as ReactDOM from 'react-dom'\r\nimport style from './style.module.css'\r\n\r\nexport default function Toast(text:string){\r\n    let el = document.createElement('div')\r\n    document.body.appendChild(el)\r\n    ReactDOM.render(\r\n      <div className={style.wrap}>\r\n        <div className={style.box}>{text}</div>\r\n      </div>, el)\r\n    setTimeout(() => {\r\n       ReactDOM.unmountComponentAtNode(el)\r\n       document.body.removeChild(el)\r\n    }, 2000)\r\n    return (\r\n       <div className={style.wrap}>\r\n          <div className={style.box}>{text}</div>\r\n       </div>\r\n    )\r\n}","import { useEffect,useState} from 'react'\r\nimport {useHistory,useParams,Link} from 'react-router-dom'\r\nimport SwiperCore, { Pagination } from 'swiper';\r\n\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { ISku }  from '../../types'\r\nimport style from './style.module.css'\r\nimport * as api from '../../services/api'\r\nimport Toast from '../../components/Toast'\r\nimport \"swiper/swiper-bundle.min.css\"\r\n\r\nSwiperCore.use([ Pagination ]);//轮播图\r\n\r\ninterface Params {\r\n  id: string\r\n}\r\n\r\nexport default function Detail() {\r\n  const history = useHistory()\r\n  const params = useParams<Params>()\r\n  const[ data, setData] = useState<ISku>();\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      let result = await api.getSku(params.id) \r\n      if (result.stat === 'OK') {\r\n        setData(result.data)\r\n      }\r\n    }\r\n    getData()\r\n  },[params.id])\r\n\r\n  const add = async() =>{\r\n    let result =await api.addCart(params.id)\r\n    if (result.stat === 'OK') {\r\n      Toast('已加入购物车')\r\n    } else {\r\n      history.push(\"/login\")\r\n      Toast(\"请先登录\")\r\n    }\r\n  }\r\n\r\n  if (data === null) return null        \r\n  return(\r\n    <div className={style.page}>\r\n      <main className={style.swiper}>\r\n        <div className={style.swiper_back}>\r\n          <i className=\"iconfont icon-back\" onClick={history.goBack}></i>\r\n        </div>\r\n        <Swiper \r\n        className = {style.swiperWrap}\r\n        pagination={{bulletActiveClass: style.activePage}}\r\n        >\r\n          {data?.gallery.map((item, index) => {\r\n              return (\r\n                <SwiperSlide key={index}>\r\n                  <img className={style.swiperImg} src={item} alt=\"\"/>\r\n                </SwiperSlide>\r\n              )\r\n            })}\r\n        </Swiper>\r\n        <div className={style.product}>\r\n          <div className={style.product_price}>￥{data?.price}</div>\r\n          <div className={style.product_stock}>库存：{data?.stock}</div>\r\n          <div className={style.product_title}>{data?.title}</div>\r\n        </div>\r\n        <div className={style.product_detail}>\r\n          {data?.detail.map((item, index) => {\r\n            return <img key={index} src={item} alt=\"\"/>\r\n          })}\r\n        </div>  \r\n      </main>\r\n      <div className={style.footer}>\r\n          <Link className={style.link} to='/Shopcar'>        \r\n            <i className=\"iconfont icon-cart\"></i>    \r\n            <span>购物车</span>       \r\n          </Link>\r\n          <button className={style.addcart} onClick={add}>\r\n            加入购物车          \r\n          </button>      \r\n      </div>\r\n    </div>  \r\n  )\r\n}","import { useEffect,useState} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport { IUser } from '../../types'\r\n\r\nimport style from './style.module.css'\r\nimport Nav from '../../components/Nav'\r\nimport * as api from \"../../services/api\"\r\n\r\nexport default function Login() {\r\n  const history = useHistory()\r\n  const[user, setUser] = useState<IUser>();\r\n\r\n  const logout = async() =>{\r\n    let result = await api.logout()\r\n    if (result.stat === \"OK\") {\r\n      history.push(\"/login\")\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    const userinfo = async () => {\r\n      let result = await api.userInfo()\r\n      if (result.stat === 'OK') {\r\n        setUser(result.data)\r\n      }else {\r\n        history.push(\"/login\")\r\n      }\r\n    }\r\n    userinfo()\r\n  },[history])\r\n  return (\r\n    <div className={style.back}>\r\n      <div className={style.wrapper}>\r\n        <img className={style.avater} src={user?.avatar} alt=\"淘宝头像\"/>\r\n        <div className={style.text}>{user?.nickname}</div>\r\n        <button className={style.outputButton} onClick={logout} >退出登录</button>\r\n      </div>\r\n      <Nav />\r\n    </div>\r\n  )\r\n}","import * as React from 'react'\r\nimport style from './style.module.css'\r\n\r\ninterface Props {\r\n  value: boolean\r\n  className?: string\r\n  index?: number\r\n  onChange: (value: boolean, index?:number) => void\r\n}\r\n\r\nexport default function Checkbox(props: Props) {\r\n\r\n  const className =() => {\r\n    let name = 'iconfont ' + style.checkbox\r\n    if(props.value === true){\r\n      name += ' icon-roundcheckfill ' + style.checked\r\n    }else{\r\n      name += ' icon-round'\r\n    }\r\n    if (props.className) \r\n      name += ' ' + props.className\r\n    console.log(name)\r\n    return name\r\n  }\r\n  return (\r\n    <i\r\n        className={className()}\r\n        onClick={() => props.onChange(!props.value,props.index)}\r\n    />\r\n)}\r\n","import * as React from \"react\";\r\n\r\nimport style from './style.module.css'\r\nimport Checkbox from \"../../components/Checkbox\";\r\nimport { ISku } from \"../../types\";\r\n\r\ninterface Props {\r\n  sku: ISku;\r\n  value: boolean;\r\n  onChange: (value: boolean, index?:number) => void;\r\n  index?: number;\r\n}\r\nexport default function ShopCarItem(props:Props){\r\n  return (\r\n    <div className={style.caritem}>\r\n      <Checkbox\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        index={props.index}\r\n      />\r\n      <img className={style.img} src={props.sku.cover} alt=\"商品封面图\"/>\r\n      <div className={style.text}>\r\n        <p className={style.title}>{props.sku.title}</p>\r\n        <p className={style.price}>￥{props.sku.price}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import * as React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ISku } from \"../../types\";\r\nimport style from \"./style.module.css\";\r\nimport Nav from \"../../components/Nav\";\r\nimport Checkbox from \"../../components/Checkbox\";\r\nimport ShopCarItem from \"../../components/ShopCarItem\";\r\nimport * as api from \"../../services/api\";\r\n\r\nexport default function Shopcar() {\r\n  let history = useHistory();\r\n  const [carlist, setCarlist] = React.useState<ISku[]>([]);\r\n  const [isCheck, setIsCheck] = React.useState<boolean[]>([]);\r\n  const [isAllCheck, setIsAllCheck] = React.useState<boolean>(false);\r\n  /**\r\n   * 获取购物车数据功能\r\n   * 1.获取商品列表\r\n   *  1.未登录 跳转到login\r\n   * 2.初始化复选框状态\r\n   * 3.更新UI\r\n   */\r\n   React.useEffect(() => {\r\n    const getData = async () => {\r\n      let result = await api.listCart();\r\n      if (result.stat === \"OK\") {\r\n        let isCheck = [];\r\n        result.rows.map(() => {\r\n          return isCheck.push(false);\r\n        });\r\n        setCarlist(result.rows);\r\n        setIsCheck(isCheck)\r\n      } else {\r\n        history.push(\"/login\");\r\n      }\r\n    }\r\n    getData()\r\n  },[history]);\r\n  \r\n  /**\r\n   * 删除购物车的商品功能\r\n   * 1.获取ids\r\n   * 2.调用相应api\r\n   */\r\n   const getData = async () => {\r\n    let result = await api.listCart();\r\n    if (result.stat === \"OK\") {\r\n      let isCheck = [];\r\n      result.rows.map(() => {\r\n        return isCheck.push(false);\r\n      });\r\n      setCarlist(result.rows);\r\n      setIsCheck(isCheck)\r\n    } else {\r\n      history.push(\"/login\");\r\n    }\r\n  }\r\n\r\n  const doRemove = async () => {\r\n    let ids: string[] = []\r\n    const carlist2 = carlist.map(v => v)\r\n    const isCheck2 = isCheck.map(v => v)\r\n    isCheck2.map((v, w) => {\r\n        if (v === true) {\r\n            ids.push(carlist2[w].id!)\r\n        }\r\n        return v\r\n    })\r\n    await api.removeCart(ids)\r\n    let result = await api.listCart()\r\n    setCarlist(result.rows)\r\n    getData()\r\n}\r\n\r\n  /**\r\n   * 单选功能\r\n   * 1.更改个体的选中状态并检验是否已经全选\r\n   */\r\n  const doChange = (isCheckeds, index) => {\r\n    let isAllCheck = true;\r\n    let isChecked = isCheck.map((v, w) => {\r\n      if (w === index) v = isCheckeds;\r\n      if (v === false) isAllCheck = false;\r\n      return v;\r\n    });\r\n    \r\n    setIsCheck([...isChecked]);\r\n    setIsAllCheck(isAllCheck);\r\n  };\r\n  /**\r\n   * 全选功能\r\n   */\r\n  const doAllChange = (isAllCheck) => {\r\n    let isChecks = isCheck.map(() => isAllCheck);\r\n    setIsCheck([...isChecks]);\r\n    console.log(isAllCheck)\r\n    setIsAllCheck(isAllCheck);\r\n  };\r\n  /**\r\n   * 渲染删除按钮\r\n   * 1.根据isCheck的状态来更新UI\r\n   */\r\n  const isDisabled = () => {\r\n    let isPick = false;\r\n    let isChecked = isCheck;\r\n    for (let i = 0; i<isChecked.length; i++){\r\n      if (isChecked[i] === true) {\r\n        isPick = true\r\n        break\r\n      }\r\n    }\r\n    console.log(isPick)\r\n    if (isPick === false) {\r\n      return (\r\n        <button className={style.delete} disabled>\r\n          删除\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button className={style.delete} onClick={doRemove}>\r\n          删除\r\n        </button>\r\n      );\r\n    }\r\n  };\r\n\r\n  //html部分\r\n  if (carlist.length === 0)\r\n    return (\r\n      <div className={style.back}>\r\n        <div className={style.empty}>\r\n          <i className=\"iconfont icon-shop\" />\r\n          <span>购物车是空的</span>\r\n        </div>\r\n        <Nav />\r\n      </div>\r\n    );\r\n  return (\r\n    <div className={style.back}>\r\n      <div className={style.wrapper}>\r\n        <div className={style.carlist}>\r\n          {carlist.map((item, index) => (\r\n            <ShopCarItem\r\n              key={item.id}\r\n              value={isCheck[index]}\r\n              sku={item}\r\n              index={index}\r\n              onChange={doChange}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className={style.control}>\r\n        <Checkbox value={isAllCheck} onChange={doAllChange} />\r\n        <span>全选</span>\r\n        {isDisabled()}\r\n      </div>\r\n      <Nav />\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\"\r\nimport {useHistory,Link} from 'react-router-dom'\r\nimport style from './style.module.css'\r\nimport Toast from \"../../components/Toast\"\r\nimport * as api from \"../../services/api\"\r\n\r\n\r\nexport default function Login() {\r\n  const history = useHistory()\r\n  const [username, setUsername] = React.useState<string>();\r\n  const [password, setPassword] = React.useState<string>();\r\n  \r\n  const login =async() =>{\r\n    try{\r\n      let result = await api.login(username,password)\r\n      if (result.stat === 'OK') {\r\n         history.push('/mine')\r\n      } else {\r\n        Toast(result.message)\r\n      }\r\n    } catch {}\r\n  }\r\n  \r\n  const isDisabled  = () =>{\r\n    let disabled = false\r\n    if (username !== '' && password !== '') {\r\n      disabled = true\r\n    } else {\r\n      disabled = false\r\n    }\r\n    if (disabled) {\r\n      return (\r\n        <button className={style.button} onClick={login} >\r\n          登 录\r\n        </button>\r\n      )\r\n    } else {\r\n      return (\r\n        <button className={style.button} disabled onClick={login} >\r\n          登 录\r\n        </button>\r\n      )\r\n    }\r\n  }\r\n  return (\r\n    <div className={style.wrap}>\r\n      <Link to=\"/product\" className={style.tao}>\r\n        <img src=\"https://gw.alicdn.com/tfs/TB1puqzr6MZ7e4jSZFOXXX7epXa-160-160.png\" className={style.img} alt=\"\"/>\r\n      </Link>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"用户名\"\r\n        className={style.inputText}\r\n        onChange={event=>setUsername(event.target.value)}\r\n      />\r\n      <input \r\n      type=\"password\" \r\n      placeholder=\"密 码\" \r\n      className={style.inputText}\r\n      onChange={event =>setPassword(event.target.value)}\r\n      />\r\n      {isDisabled()}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","import * as React from 'react'\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'\r\nimport { ConfigProvider } from 'antd'\r\nimport zhCN from 'antd/lib/locale/zh_CN'\r\n\r\nimport Product from '../Product'\r\nimport Detail from '../Detail'\r\nimport Mine from '../Mine'\r\nimport Shopcar from '../Shopcar'\r\nimport Login from '../Login'\r\n\r\nexport default class App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route path=\"/product\" component={Product} />\r\n            <Route path=\"/shopcar\" component={Shopcar} />\r\n            <Route path=\"/mine\" component={Mine} />\r\n            <Route path=\"/detail/:id\" component={Detail} />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Redirect from=\"/\" to=\"/product\" exact />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </ConfigProvider>\r\n    )\r\n  }\r\n\r\n}","import * as React from 'react'\r\nimport * as ReactDOM from 'react-dom'\r\n\r\nimport './index.css'\r\nimport App from './pages/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('app'))"],"sourceRoot":""}