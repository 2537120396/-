# node.js四条命令：ls,cp,wget,cat思路和遇到的问题
## 总的问题：虽然了解过promise的写法，但是对同步和异步以及阻塞和非阻塞还是不太明白，需要加强学习

## 1、ls
### （1）思路
对于ls来说，我的思路主要是
1、先获取文件路径  
2、对文件进行遍历     
3、获取目录内文件信息，按照文件夹在上，目录在下先进行拆分  
4、使用chalk对其染色  
5、按照文件名字排序和时间戳排序  
6、时间要先排序再格式化，但输出是已经格式化的时间。  
### （2）问题  
1、对于时间戳的格式化开始不太了解，然后马上去学习才明白  
2、拿到项目后没有很完善的思考，就马上着急去写，最后对命令和其格式是否正确用了很久，也不是很优雅，使用了过多的if...else  
3、对每一步数组的状态和内容有点想当然，按文件名排序就是能排序，但是是文件和文件夹混在一起。思考了两台，最后打印了数组才发现，文件和文件夹没有分开，我的文件数组是空的，都在文件夹数组里面  
## 2、cp
### （1）思路
1、先获取将要复制的文件或文件夹的路径 from
2、判断复制去的路径中是否有该文件夹或文件，没有就创建，有就覆盖 to
3、然后回调复制函数，将from和to传入copy函数
4、获取from的信息，为子文件加上路径，才能复制
5、再分离子文件和子文件夹，是文件就调用stream流，是文件就再调用复制函数
6、递归，直到完全按目录树复制成功
### （2）问题
1、递归的逻辑比较熟悉，但是还是画了一下流程图，省下来很大的精力  
2、对文件复制的路径不太清楚，开始没有加上路径时，复制的文件随机出现到不同的地方  
3、发现如果没有加上路径的话，会把所有的文件全部转化成文件夹
## 3、rat
### 思路和问题
这条命令比较简单，没有遇到什么困难就写完了
学习到了一个新的库'isBinaryFile'可以用来判断文件是否是二进制  
## 4、wget
### （1）思路
1、仔细读了老师写的代码demo，再根据老师的demo加上判断写成的
2、先获取输入的http，和可能有的'-o'
3、再获取url中的body和header，根据header中的内容做进一步的细分
4、根据不同的条件判断，再输出
### （2）问题
1、重命名时，对fs.rename的用法不太熟悉，最后还是用了if...else  
2、开始对如何分开
'<wget https://qn.cache.wpscdn.cn/encs/wpscn/images/background/WPSOffice-default.8ed9058b.png?hash=add03a1ab768f9e821a68e46f4254093990dd8f1>'和'<wget https://assets.kscampus.io:10443/api/download?hash=b3871dff783708b1e88cc85ae7f840ca52a1aa3c>'这两条命令不太熟悉，通过老师说打印headers才找出它们'<headers['content-disposition']>'中的不同，才顺利区分
3、对正则表达式不太熟悉，切分字符串是马上去学的
4、一直有报错，是'<complete: '\033[32m=\033[0m'>'在严格模式下，八进制转义用不了，没有办法，我就删掉了这一行，进度条没有办法染色。